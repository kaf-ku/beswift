var skins=["ffdbb4","edb98a","fd9841","fcee93","d08b5b","ae5d29","614335"],eyes=["default","dizzy","eyeroll","happy","close","hearts","side","wink","squint","surprised","winkwacky","cry"],eyebrows=["default","default2","raised","sad","sad2","unibrow","updown","updown2","angry","angry2"],mouths=["default","twinkle","tongue","smile","serious","scream","sad","grimace","eating","disbelief","concerned","vomit"],hairstyles=["bold","longhair","longhairbob","hairbun","longhaircurly","longhaircurvy","longhairdread","nottoolong","miawallace","longhairstraight","longhairstraight2","shorthairdreads","shorthairdreads2","shorthairfrizzle","shorthairshaggy","shorthaircurly","shorthairflat","shorthairround","shorthairwaved","shorthairsides"],haircolors=["bb7748_9a4f2b_6f2912","404040_262626_101010","c79d63_ab733e_844713","e1c68e_d0a964_b88339","906253_663d32_3b1d16","f8afaf_f48a8a_ed5e5e","f1e6cf_e9d8b6_dec393","d75324_c13215_a31608","59a0ff_3777ff_194bff"],clothes=["vneck","sweater","hoodie","overall","blazer"],fabriccolors=["545454","65c9ff","5199e4","25557c","e6e6e6","929598","a7ffc4","ffdeb5","ffafb9","ffffb1","ff5c5c","e3adff"],backgroundcolors=["ffffff","f5f6eb","e5fde2","d5effd","d1d0fc","f7d0fc","d0d0d0"],glasses=["none","rambo","fancy","old","nerd","fancy2","harry"],glassopacities=["10","25","50","75","100"],accessories=["none","earphones","earring1","earring2","earring3"],current_skincolor="edb98a",current_hairstyle="longhair",current_haircolor="bb7748_9a4f2b_6f2912",current_fabriccolors="545454",current_backgroundcolors="ffffff",current_glassopacity=.5;function random(){var r=skins[Math.floor(Math.random()*skins.length)],e=eyes[Math.floor(Math.random()*eyes.length)],o=eyebrows[Math.floor(Math.random()*eyebrows.length)],s=mouths[Math.floor(Math.random()*mouths.length)],a=hairstyles[Math.floor(Math.random()*hairstyles.length)],t=haircolors[Math.floor(Math.random()*haircolors.length)],i=clothes[Math.floor(Math.random()*clothes.length)],c=fabriccolors[Math.floor(Math.random()*fabriccolors.length)],l=backgroundcolors[Math.floor(Math.random()*backgroundcolors.length)],n=glasses[Math.floor(Math.random()*glasses.length)],d=parseInt(glassopacities[Math.floor(Math.random()*glassopacities.length)])/100,h=accessories[Math.floor(Math.random()*accessories.length)];current_skincolor=r,current_fabriccolors=c,current_backgroundcolors=l,current_glassopacity=d,$("#skin #body").attr("fill","#"+r),$("#eyes g").hide(),$("#eyes #e_"+e).show(),$("#eyebrows g").hide(),$("#eyebrows #eb_"+o).show(),$("#mouths g").hide(),$("#mouths #m_"+s).show(),current_hairstyle=a,$("#hair_front g").hide(),$("#hair_back g").hide(),$("#hair_front .h_"+a).show(),$("#hair_back .h_"+a).show();var f=current_haircolor=t;f=f.split("_"),$("#hair_front .h_"+current_hairstyle+" .tinted").attr("fill","#"+f[0]),$("#hair_back .h_"+current_hairstyle+" .tinted").attr("fill","#"+f[1]),$("#clothes g").hide(),$("#clothes #c_"+i).show(),$("#glasses g").hide(),$("#glasses #g_"+n).show(),$(".glass").attr("fill-opacity",d),$("#clothes g .tinted").attr("fill","#"+c),$("#background").attr("fill","#"+l),$("#accessories g").hide(),$("#accessories #a_"+h).show()}$(document).ready(function(){$("body").delegate("#menu_list button","click",function(){var r=$(this).attr("id"),e=$(this).html();$("#options_title").html("SELECT "+e),$("#options_div").html("");var o="";switch(r){case"skincolor":for(var s=0;s<skins.length;s++)o+="<div class='skins' id='s_"+(skin=skins[s])+"' style='background-color:#"+skin+";'></div>";break;case"eyes":for(s=0;s<eyes.length;s++)o+="<div class='eyes' id='e_"+(eye=eyes[s])+"' style='background-color:#"+current_skincolor+";background-position:"+-53*s+"px 0px;'></div>";break;case"eyebrows":for(s=0;s<eyebrows.length;s++)o+="<div class='eyebrows' id='eb_"+(eyebrow=eyebrows[s])+"' style='background-color:#"+current_skincolor+";background-position:"+-53*s+"px -53px;'></div>";break;case"mouths":for(s=0;s<mouths.length;s++)o+="<div class='mouths' id='m_"+(mouth=mouths[s])+"' style='background-color:#"+current_skincolor+";background-position:"+-53*s+"px -106px;'></div>";break;case"hairstyles":for(s=0;s<hairstyles.length;s++)o+="<div class='hairstyles' id='h_"+(hairstyle=hairstyles[s])+"' style='background-color:#ffffff;background-position:"+-53*s+"px -159px;'></div>";break;case"haircolors":for(s=0;s<haircolors.length;s++)haircolor_front=(haircolor=haircolors[s]).split("_"),o+="<div class='haircolors' id='hc_"+haircolor+"' style='background-color:#"+haircolor_front[0]+";'></div>";break;case"clothes":for(var s=0;s<clothes.length;s++)o+="<div class='clothes' id='c_"+(clothe=clothes[s])+"' style='background-color:#ffffff;background-position:"+-53*s+"px -265px;'></div>";break;case"fabriccolors":for(var s=0;s<fabriccolors.length;s++)o+="<div class='fabriccolors' id='f_"+(fabriccolor=fabriccolors[s])+"' style='background-color:#"+fabriccolor+";'></div>";break;case"backgroundcolors":for(var s=0;s<backgroundcolors.length;s++)o+="<div class='backgroundcolors' id='g_"+(backgroundcolor=backgroundcolors[s])+"' style='background-color:#"+backgroundcolor+";'></div>";break;case"glasses":for(var s=0;s<glasses.length;s++)o+="<div class='glasses' id='g_"+(glass=glasses[s])+"' style='background-color:#ffffff;background-position:"+-53*s+"px -313px;'></div>";break;case"glassopacity":for(var s=0;s<glassopacities.length;s++)o+="<div class='glassopacity' id='o_"+(glassopacity=glassopacities[s])+"' style='background-color:#ffffff;'>"+glassopacity+"%</div>";break;case"accessories":for(var s=0;s<accessories.length;s++)o+="<div class='accessories' id='a_"+(accessory=accessories[s])+"' style='background-color:#ffffff;background-position:"+-53*s+"px -369px;'></div>"}$("#options_div").html(o),$("#menu_lines").click()}),$("body").delegate("#random","click",function(){random()}),$("body").delegate("#menu_lines","click",function(){""===(menu_class=$("#menu").attr("class"))?($("#menu").addClass("active"),$("#menu").css({border:"0px"}),$("#menu").stop().animate({width:"360px"},{duration:300,complete:function(){$(this).stop().animate({height:"460px"},{duration:300})}})):($("#menu").removeClass("active"),$("#menu").css({"border-right":"1px solid #707070"}),$("#menu").stop().animate({height:"99px"},{duration:300,complete:function(){$(this).stop().animate({width:"60px"},{duration:300})}}))}),$("body").delegate(".skins","click",function(){var r=$(this).attr("id");current_skincolor=r=r.substr(2),$("#skin #body").attr("fill","#"+r)}),$("body").delegate(".eyes","click",function(){var r=$(this).attr("id");r=r.substr(2),$("#eyes g").hide(),$("#eyes #e_"+r).show()}),$("body").delegate(".eyebrows","click",function(){var r=$(this).attr("id");r=r.substr(3),$("#eyebrows g").hide(),$("#eyebrows #eb_"+r).show()}),$("body").delegate(".mouths","click",function(){var r=$(this).attr("id");r=r.substr(2),$("#mouths g").hide(),$("#mouths #m_"+r).show()}),$("body").delegate(".hairstyles","click",function(){var r=$(this).attr("id");current_hairstyle=r=r.substr(2),$("#hair_front g").hide(),$("#hair_back g").hide(),$("#hair_front .h_"+r).show(),$("#hair_back .h_"+r).show();var e=current_haircolor;e=e.split("_"),$("#hair_front .h_"+current_hairstyle+" .tinted").attr("fill","#"+e[0]),$("#hair_back .h_"+current_hairstyle+" .tinted").attr("fill","#"+e[1])}),$("body").delegate(".haircolors","click",function(){var r=$(this).attr("id");current_haircolor=r=r.substr(3),r=r.split("_"),$("#hair_front .h_"+current_hairstyle+" .tinted").attr("fill","#"+r[0]),$("#hair_back .h_"+current_hairstyle+" .tinted").attr("fill","#"+r[1])}),$("body").delegate(".clothes","click",function(){var r=$(this).attr("id");r=r.substr(2),$("#clothes g").hide(),$("#clothes #c_"+r).show()}),$("body").delegate(".fabriccolors","click",function(){var r=$(this).attr("id");current_fabriccolors=r=r.substr(2),$("#clothes g .tinted").attr("fill","#"+r)}),$("body").delegate(".backgroundcolors","click",function(){var r=$(this).attr("id");current_backgroundcolors=r=r.substr(2),$("#background").attr("fill","#"+r)}),$("body").delegate(".glasses","click",function(){var r=$(this).attr("id");r=r.substr(2),$("#glasses g").hide(),$("#glasses #g_"+r).show()}),$("body").delegate(".glassopacity","click",function(){var r=$(this).attr("id");current_glassopacity=(r=parseInt(r.substr(2)))/100,$(".glass").attr("fill-opacity",current_glassopacity)}),$("body").delegate(".accessories","click",function(){var r=$(this).attr("id");r=r.substr(2),$("#accessories g").hide(),$("#accessories #a_"+r).show()}),random()}),$("#download").click(function(){var r=document.querySelector("#avatar svg"),e=new XMLSerializer().serializeToString(r),o=document.createElement("canvas");canvg(o,e,{renderCallback:function(){o.toBlob(function(r){!function r(e,o){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(o,e);else{let s=window.document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}("MyAvatar.png",r)})}})});